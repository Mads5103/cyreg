<html>
<head>
    <link rel="stylesheet" type="text/css" href="public/stylesheets/stylesheet.css">
    <script type="text/javascript">
        function setBackground(color) {
            document.body.style.background = color;
        }
        function setBoxColor(color){
            document.getElementById("box").style.background = color;
        }

        function sayHello() {
            setBackground('blue');
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <script>
        function printData(vognID) {
            $(function () {
                var colour;

                $.getJSON('myDataBase2.json', function (data) {
                    var entry = 'data' + vognID; // Elementerne i databasen hedder data0, data1...

                    // På baggrund af antallet af optagede pladser bestemmes signalets farve
                    if (data[entry].antal_optagede_pladser >= 7) {
                        colour = "Rød"
                    } else if (data[entry].antal_optagede_pladser > 4 && data[entry].antal_optagede_pladser < 7) {
                        colour = "Gul"
                    } else {
                        colour = "Grøn"
                    }

                    // Information om vognen tilføjes til tabellen
                    var tblRow = "<tr>" + "<td>" + vognID + "</td>" + "<td>" + data[entry].antal_optagede_pladser + "</td>" +
                        "<td>" + data[entry].antal_pladser + "</td>" + "<td>" + colour + "</td>" + "</tr>"
                    $(tblRow).appendTo("#tabVognData tbody");
                });
            });
        }

        function readForm() {
            $('body').append(document.getElementById("inputVognID")+ " ");
            printData(document.getElementById("inputVognID"));
        }

        /*
        $(".btn").click(function () {
            var vognID = $("input#submitVognID").val();
            printData(vognID);
            return false;
        });
        */

    </script

</head>

<body>
<!--
    <form action = "http://cyreg.lkv20.dk:10000/TjekData" method = "POST">
        Vogn id: <input type = "text" name = "check_vogn"><br>
        <input type = "submit" value = "Submit">
    </form>
-->
    <div class="foo red" id="box"></div>

    <input type="button" onclick="printData(3)"  value="Say Hello" />

    <form>
        Vogn ID: <input type="number" id="inputVognID">  <br>
        <input type="button" class="btn" value="Submit" id="submitVognID" onclick="readForm()">
    </form>

    <div class="wrapper">
        <div class="profile">
            <table id="tabVognData" border="2">
                <thead>
                    <th>Tog ID</th>
                    <th>Antal optagede pladser</th>
                    <th>Lognr.</th>
                    <th>Tilstand</th>
                </thead>
                <tbody>

                </tbody>
            </table>

        </div>
    </div> <!-- Tabel -->



</body>
</html>
